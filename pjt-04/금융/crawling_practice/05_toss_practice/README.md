[toc]

# 📘 Toss 크롤링 실습

이 문서는 TossInvest 웹사이트에서 **주식 관련 정보를 자동으로 가져오는 과정**을 단계별로 기록한 실습 자료입니다. 
크롤링을 전혀 모르는 사람도, 각 파일의 목적과 발전 과정을 차근차근 따라갈 수 있도록 구성했습니다.  



---



## 01_toss_practice.py — 메인 페이지 접속

- **요약**  
  
  - 크롤링의 출발점은 **브라우저 자동화**를 이해하는 것입니다.
  - [TossInvest](https://www.tossinvest.com/?focusedProductCode=US20210204006) 메인 페이지를 자동으로 열고 닫는 가장 단순한 예시입니다.  
  
- **코드 단계 별 요약**  
  
  - 크롬 드라이버 실행  
  - TossInvest 메인 페이지 열기  
  - 정상 접속 여부 확인  
  
  

---



## 02_toss_practice.py — 회사명 검색

- **요약**  
  - TossInvest에서 원하는 회사를 찾는 방법을 배웁니다.  

- **코드 단계 별 요약**  
  - TossInvest 접속  
  - `/` 키 입력 → 검색창 열기  
  - 회사명(예: 삼성전자) 입력 후 검색 실행  

- **직전 파일 대비 추가 기능**  
  - 키보드 입력(`send_keys`)을 활용하여 검색창 제어  
  - 특정 회사명으로 이동하는 과정을 자동화  
  
  

---



## 03_toss_practice.py — 종목 코드 추출

- **요약**  
  - 단순 검색을 넘어서, **검색 결과 페이지에서 종목 코드를 자동으로 가져오는 방법**을 배웁니다.  

- **코드 단계 별 요약**  
  - 검색 완료 후 `/order` 페이지 URL 확인  
  - URL 경로에서 **종목 코드** 추출  
  - 추출된 코드 출력  

- **직전 파일 대비 추가 기능**  
  - 동적 페이지 로딩 대기(`WebDriverWait`) 적용  
  - URL 파싱을 통해 핵심 데이터(종목 코드) 확보  
  
  

---



## 04_toss_practice.py — 커뮤니티 페이지 접속

- **요약**  
  - 특정 종목의 커뮤니티 탭에 접근해, 향후 댓글을 가져올 준비를 합니다.  

- **코드 단계 별 요약**  
  - 종목 코드 기반으로 **커뮤니티 URL 자동 생성**  
  - 해당 페이지 접속 및 로딩 완료 확인  

- **직전 파일 대비 추가 기능**  
  - 종목 코드 → 커뮤니티 페이지 URL로 이동  
  - 데이터가 있는 영역(`main article`) 로딩 완료까지 대기  
  
  

---



## 05_toss_practice.py — 댓글 크롤링

- **요약**  
  - 실제로 사람들이 작성한 **커뮤니티 댓글을 자동으로 가져오는 최종 단계**입니다.  

- **코드 단계 별 요약**  
  - 커뮤니티 페이지 접속  
  - 댓글 DOM 요소 탐색 및 텍스트 추출  
  - 스크롤 다운으로 댓글 추가 로드  
  - 최대 20개 댓글 출력  

- **직전 파일 대비 추가 기능**  
  - 댓글 텍스트 수집 기능 구현  
  - 스크롤 반복으로 부족한 댓글 자동 보충  
  - 중복 제거 및 개수 제한 기능  
  
  

---



# ✅ 요약

- `01 → 02` : 웹페이지 단순 접속 → 회사 검색 기능 추가  
- `02 → 03` : 검색 결과에서 종목 코드 추출  
- `03 → 04` : 종목 코드로 커뮤니티 탭 이동  
- `04 → 05` : 댓글 실제 크롤링 및 스크롤 기반 로드  



## 이제 Django에 위 기능을 적용해봅시다!
